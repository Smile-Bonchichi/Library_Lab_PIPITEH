#include <iostream>
#include <ctime>
#include <fstream>
#include <string>
#include "Windows.h"
#include <time.h>
#include <iomanip>
#include "conio.h"

#include "color.h"

#define str string

using namespace std;

const double pi = 3.14;

bool check_number(str s) { //функция для проверки введенного символа
	if (atoi(s.c_str()) || s == "0")
		return true;
	else return false;
}

class Currency;
class Dollar;
class Euro;

class Curency {
protected:
	double money;
public:
	Curency() { this->money = 0; }
	virtual void convert() = 0;
	virtual void output() = 0;
};

class Dollar : Curency {
public:
	Dollar() { this->money = 0; }
	Dollar(double money) { this->money = money; }
	void output() override {
		green("Ваш баланс в долларах: "); red(to_string(money) + "\n");
	}
	void convert() override {
		output();
		green("Ваш баланс в рублях: "); red(to_string(money * 73.75) + "\n");
	}
};

class Euro : Curency {
public:
	Euro() { this->money = 0; }
	Euro(double money) { this->money = money; }
	void output() override {
		green("Ваш баланс в евро: "); red(to_string(money) + "\n");
	}
	void convert() override {
		output();
		green("Ваш баланс в рублях: "); red(to_string(money * 88.97) + "\n");
	}
};

void main_menu() {
	magenta("                     ,---.           ,---.   \n");
	magenta("                    / /^`.\\.--''''-./,'^\\ \\ \n");
	magenta("                    \\ \\    _       _    / /  "); red("\t\t\t\t\t\tГлавное Меню:\n");
	magenta("                     `./  / __   __ \\  \\,'   \n");
	magenta("                      /    /_O)_(_O\\    \\     "); green("\t\t\t\t\t1. Заполнить кол - во денег в долларах\n");
	magenta("                      |  .-'  ___  `-.  |  \n");
	magenta("                   .--|       \\_/       |--.  "); green("\t\t\t\t\t2. Вывести кол - во денег в долларах\n");
	magenta("                 ,'    \\   \\   |   /   /    `.\n");
	magenta("                /       `.  `--^--'  ,'       \\"); green("\t\t\t\t\t3. Конвентировать доллары в рубли\n");
	magenta("             .-^^^^^-.    `--.___.--'     .-^^^^^-.\n");
	magenta(".-----------/         \\------------------/         \\--------------."); green("\t\t4. Заполнить кол - во денег в евро\n");
	magenta("| .---------\\         /----------------- \\         /------------. |\n");
	magenta("| |          `-`--`--'                    `--'--'-'             | |"); green("\t\t5. Вывести кол - во денег в евро\n");
	magenta("| |   "); cyan("__      __   ___  | |   ___    ___    _ __ ___     ___"); magenta("    | |\n");
	magenta("| |   "); cyan("\\ \\ /\\ / /  / _ \\ | |  / __|  / _ \\  | '_ ` _ \\   / _ \\"); magenta("   | |"); green("\t\t6. Конвентировать доллары в рубли\n");
	magenta("| |    "); cyan("\\ V  V /  |  __/ | | | (__  | (_) | | | | | | | |  __/"); magenta("   | |\n");
	magenta("| |     "); cyan("\\_/\\_/    \\___| |_|  \\___|  \\___/  |_| |_| |_|  \\___|"); magenta("   | |"); green("\t\t7. Выход\n");
	magenta("| |_____________________________________________________________| |\n");
	magenta("|_________________________________________________________________|\n");
	magenta("                   )__________|__|__________(\n");
	magenta("                  |            ||            |\n");
	magenta("                  |____________||____________|\n");
	magenta("                    ),-----.(      ),-----.(\n");
	magenta("                  ,'   ==.   \\    /  .==    `.\n");
	magenta("                 /            )  (            \\\n");
	magenta("                 `==========='    `==========='  \n");
}
void main_menu1() {
	magenta("                     ,---.           ,---.   \n");
	magenta("                    / /^`.\\.--''''-./,'^\\ \\ \n");
	magenta("                    \\ \\    _       _    / /  "); red("\t\t\t\t\t\tГлавное Меню:\n");
	magenta("                     `./  / __   __ \\  \\,'   \n");
	magenta("                      /    /_O)_(_O\\    \\     "); green("\t\t\t\t\t1. Заполнить кол - во денег в долларах\n");
	magenta("                      |  .-'  ___  `-.  |  \n");
	magenta("                   .--|       \\_/       |--.  "); green("\t\t\t\t\t2. Вывести кол - во денег в долларах\n");
	magenta("                 ,'    \\   \\   |   /   /    `.\n");
	magenta("                /       `.  `--^--'  ,'       \\"); green("\t\t\t\t\t3. Конвентировать доллары в рубли\n");
	magenta("             .-^^^^^-.    `--.___.--'     .-^^^^^-.\n");
	magenta(".-----------/         \\------------------/         \\--------------."); green("\t\t4. Заполнить кол - во денег в евро\n");
	magenta("| .---------\\         /----------------- \\         /------------. |\n");
	magenta("| |          `-`--`--'                    `--'--'-'             | |"); green("\t\t5. Вывести кол - во денег в евро\n");
	magenta("| |   "); red("__      __   ___  | |   ___    ___    _ __ ___     ___"); magenta("    | |\n");
	magenta("| |   "); red("\\ \\ /\\ / /  / _ \\ | |  / __|  / _ \\  | '_ ` _ \\   / _ \\"); magenta("   | |"); green("\t\t6. Конвентировать доллары в рубли\n");
	magenta("| |    "); red("\\ V  V /  |  __/ | | | (__  | (_) | | | | | | | |  __/"); magenta("   | |\n");
	magenta("| |     "); red("\\_/\\_/    \\___| |_|  \\___|  \\___/  |_| |_| |_|  \\___|"); magenta("   | |"); green("\t\t7. Выход\n");
	magenta("| |_____________________________________________________________| |\n");
	magenta("|_________________________________________________________________|\n");
	magenta("                   )__________|__|__________(\n");
	magenta("                  |            ||            |\n");
	magenta("                  |____________||____________|\n");
	magenta("                    ),-----.(      ),-----.(\n");
	magenta("                  ,'   ==.   \\    /  .==    `.\n");
	magenta("                 /            )  (            \\\n");
	magenta("                 `==========='    `==========='  \n");
}

int main() {
	SetConsoleCP(1251);
	SetConsoleOutputCP(1251);

	Dollar d; Euro e;
	str s; bool f = true;
	int temp = 0;
	while (f) {
		while (!_kbhit()) {
			main_menu();
			system("cls");
			main_menu1();
			system("cls");
		}
		main_menu();
		cin >> s;
		system("cls");
		switch (atoi(s.c_str())) {
		case 1: green("Введите "); red("количество денег "); green("в долларах: "); cin >> temp;
				d = Dollar(temp); break;
		case 2: d.output(); cin.ignore(); getline(cin, s); break;
		case 3: d.convert(); cin.ignore(); getline(cin, s); break;
		case 4: green("Введите "); red("количество денег "); green("в евро: "); cin >> temp;
				e = Euro(temp); break;
		case 5: e.output(); cin.ignore(); getline(cin, s); break;
		case 6: e.convert(); cin.ignore(); getline(cin, s); break;
		case 7: f = false; break;
		}
	}
	return 0;
}